<!-- =========================================================
     4.1.7 Funkce: od definice po try/except (metodicky, krok za krokem)
     ========================================================= -->
<section id="section4-1-7" class="container my-5">
  <style>
    .tip{border-left:4px solid #0d6efd;background:#f8f9fa;padding:.75rem 1rem}
    .warn{border-left:4px solid #dc3545;background:#fff5f5;padding:.75rem 1rem}
    .ok{border-left:4px solid #198754;background:#f6fff8;padding:.75rem 1rem}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    pre code{white-space:pre}
    .kbd{padding:.05rem .35rem;border:1px solid #ddd;border-radius:.25rem;background:#eee}
  </style>

  <h3 class="mb-3">4.1.7 Funkce od A do Z (def â†’ volÃ¡nÃ­ â†’ parametry â†’ nÃ¡vrat â†’ vÃ½jimky)</h3>
  <p class="lead">
    CÃ­lem je pochopit <b>co pÅ™esnÄ› dÄ›lÃ¡ funkce</b>, jak ji <b>definovat</b>, <b>volat</b>, jak fungujÃ­ <b>parametry vs. argumenty</b>,
    proÄ vracet hodnoty pomocÃ­ <code>return</code>, co je <code>None</code>, jak psÃ¡t <b>vÃ½chozÃ­</b> a <b>pojmenovanÃ©</b> argumenty, co je <b>scope</b>,
    jak na <b>funkce jako hodnoty</b>, a jak oÅ¡etÅ™it chybnÃ© vstupy pÅ™es <code>try/except ValueError</code>.
  </p>

  <div class="accordion" id="acc-funkce">

    <!-- 1) Definice vs volÃ¡nÃ­ -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f1h">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#f1" aria-expanded="true">
          1) Definice funkce Ã— volÃ¡nÃ­ funkce (naprostÃ½ zÃ¡klad)
        </button>
      </h2>
      <div id="f1" class="accordion-collapse collapse show" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
          <p><b>Definice</b> jen vytvoÅ™Ã­ â€krabiÄku s kÃ³demâ€œ. <b>VolÃ¡nÃ­</b> tu krabiÄku skuteÄnÄ› spustÃ­.</p>
<pre><code class="language-python">def pozdrav():       # definice (nevstupuje sem Å¾Ã¡dnÃ¡ hodnota)
    print("Ahoj!")

pozdrav()            # volÃ¡nÃ­ â†’ vypÃ­Å¡e "Ahoj!"
#   ^^ zÃ¡vorky = spustit</code></pre>
          <div class="ok"><b>Zapamatuj:</b> <code>pozdrav</code> (bez zÃ¡vorek) je <em>odkaz na funkci</em>; <code>pozdrav()</code> ji <em>volÃ¡</em>.</div>
          <div class="tip mt-2"><b>Mini-cviÄenÃ­:</b> NapiÅ¡ <code>def info():</code> aÅ¥ vypÃ­Å¡e â€Program bÄ›Å¾Ã­â€œ. Zavolej ji dvakrÃ¡t.</div>
        </div>
      </div>
    </div>

    <!-- 2) Parametry vs argumenty (pozicnÃ­) -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f2h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f2">
          2) Parametry Ã— argumenty: jak projde hodnota dovnitÅ™
        </button>
      </h2>
      <div id="f2" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
          <p><b>Parametry</b> jsou â€Å¡katulkyâ€œ v definici. <b>Argumenty</b> jsou konkrÃ©tnÃ­ hodnoty pÅ™i volÃ¡nÃ­.</p>
<pre><code class="language-python">def soucet(a, b):     # a, b = parametry
    print(a + b)

soucet(2, 3)          # 2, 3 = argumenty â†’ vytiskne 5</code></pre>
          <div class="tip">Parametry dÃ¡vajÃ­ funkci vstup. PoÅ™adÃ­ u pozicnÃ­ch argumentÅ¯ je dÅ¯leÅ¾itÃ©.</div>
          <div class="ok mt-2"><b>Mini-cviÄenÃ­:</b> VytvoÅ™ <code>def plny_pozdrav(jmeno, vek):</code> a vytiskni â€Ahoj {jmeno}, je ti {vek}.â€œ VyzkouÅ¡ej volÃ¡nÃ­ s rÅ¯znÃ½mi jmÃ©ny a vÄ›ky.</div>
        </div>
      </div>
    </div>

    <!-- 3) return vs print + None + vÃ­ce nÃ¡vratÅ¯ -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f3h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f3">
          3) <code>return</code> Ã— <code>print()</code>, co vracÃ­ funkce a co je <code>None</code>
        </button>
      </h2>
      <div id="f3" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def soucet_return(a, b):
    return a + b          # vrÃ¡tÃ­ vÃ½sledek volajÃ­cÃ­mu

def soucet_print(a, b):
    print(a + b)          # jen zobrazÃ­, nic nevracÃ­ (implicitnÄ› vracÃ­ None)

x = soucet_return(2, 3)   # x = 5 (mÅ¯Å¾u dÃ¡l poÄÃ­tat)
y = soucet_print(2, 3)    # vytisklo 5, ale y je None</code></pre>
          <ul class="mb-2">
            <li><b>return</b> = data, se kterÃ½mi mÅ¯Å¾u dÃ¡l pracovat (uklÃ¡dat, poÄÃ­tat, testovat).</li>
            <li><b>print</b> = pouze vÃ½stup pro uÅ¾ivatele (bez dat zpÄ›t).</li>
            <li>Funkce bez <code>return</code> vracÃ­ automaticky <code>None</code> (prÃ¡zdno).</li>
          </ul>
<pre><code class="language-python">def dvojice(a, b):
    return a+b, a*b       # vrÃ¡tÃ­ n-tici (souÄet, souÄin)

s, p = dvojice(3, 4)      # rozbalÃ­m do dvou promÄ›nnÃ½ch</code></pre>
          <div class="tip"><b>Kdy co?</b> â€PoÄÃ­tacÃ­â€œ funkce piÅ¡ s <code>return</code>. <code>print()</code> pouÅ¾Ã­vej aÅ¾ pÅ™i prezentaci vÃ½sledku.</div>
          <div class="ok mt-2"><b>Mini-cviÄenÃ­:</b> NapiÅ¡ <code>def obvod_obdelnika(a,b)</code> aÅ¥ <em>vracÃ­</em> obvod. Vytiskni ho aÅ¾ mimo funkci.</div>
        </div>
      </div>
    </div>

    <!-- 4) PojmenovanÃ© a vÃ½chozÃ­ argumenty -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f4h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f4">
          4) PojmenovanÃ© a vÃ½chozÃ­ argumenty (Äitelnost a pohodlÃ­)
        </button>
      </h2>
      <div id="f4" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def pozdrav(jmeno, velikost="Ahoj"):
    return f"{velikost} {jmeno}!"

print(pozdrav("Eva"))                       # "Ahoj Eva!"
print(pozdrav("Pavel", velikost="Nazdar"))  # "Nazdar Pavel!"</code></pre>
          <ul class="mb-2">
            <li><b>VÃ½chozÃ­ hodnota</b> (default) se pouÅ¾ije, kdyÅ¾ argument nepoÅ¡lu.</li>
            <li><b>PojmenovanÃ½ argument</b> zvyÅ¡uje Äitelnost a neÅ™eÅ¡Ã­ poÅ™adÃ­.</li>
          </ul>
          <div class="ok"><b>Mini-cviÄenÃ­:</b> PÅ™idej vÃ½chozÃ­ parametr <code>zdravi="Ahoj"</code> do svÃ© funkce a vyzkouÅ¡ej obÄ› volÃ¡nÃ­.</div>
        </div>
      </div>
    </div>

    <!-- 5) Scope: mÃ­stnÃ­ vs globÃ¡lnÃ­ promÄ›nnÃ© -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f5h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f5">
          5) Rozsah promÄ›nnÃ½ch (scope): co kde platÃ­ a proÄ
        </button>
      </h2>
      <div id="f5" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">x = 10               # globÃ¡lnÃ­ promÄ›nnÃ¡

def zmen():
    x = 99           # mÃ­stnÃ­ promÄ›nnÃ¡ (jinÃ¡ neÅ¾ ta globÃ¡lnÃ­)
    return x

print(x)             # 10
print(zmen())        # 99
print(x)             # 10 (globÃ¡l se nezmÄ›nil)</code></pre>
          <div class="warn">VyhÃ½bej se zbyteÄnÃ©mu <code>global</code>. RadÄ›ji <b>vracej</b> hodnoty z funkcÃ­ a pracuj s nimi mimo.</div>
          <div class="ok mt-2"><b>Mini-cviÄenÃ­:</b> NapiÅ¡ <code>def pridej(x):</code> aÅ¥ vrÃ¡tÃ­ <code>x+1</code>. OvÄ›Å™, Å¾e pÅ¯vodnÃ­ <code>x</code> mimo funkci se nezmÄ›nÃ­.</div>
        </div>
      </div>
    </div>

    <!-- 6) Funkce jako hodnota (bez zÃ¡vorek) -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f6h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f6">
          6) Funkce je taky hodnota: uloÅ¾Ã­m, pÅ™edÃ¡m, vrÃ¡tÃ­m
        </button>
      </h2>
      <div id="f6" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def soucet(a,b): return a+b
def rozdil(a,b): return a-b

# uloÅ¾Ã­m odkaz na funkci:
f = soucet           # POZOR: bez zÃ¡vorek!
print(f(10,5))       # 15

# tuple (nÃ¡zev, funkce):
par = ("SouÄet", soucet)
nazev, fn = par
print(nazev, fn(3,4))  # SouÄet 7</code></pre>
          <div class="ok"><b>Mini-cviÄenÃ­:</b> VytvoÅ™ <code>("RozdÃ­l", rozdil)</code> a zavolej uloÅ¾enou funkci s (8,2).</div>
          <button class="btn btn-sm btn-outline-secondary mt-2" data-bs-toggle="modal" data-bs-target="#modalFuncAsValue">
            ProÄ je to uÅ¾iteÄnÃ© (dispatcher)?
          </button>
        </div>
      </div>
    </div>

    <!-- 7) Vstup jako ÄÃ­slo a oÅ¡etÅ™enÃ­ chyb: try/except ValueError -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f7h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f7">
          7) ÄŒtenÃ­ ÄÃ­sel se zÃ¡chrannou sÃ­tÃ­: <code>try/except ValueError</code>
        </button>
      </h2>
      <div id="f7" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
          <p>U vstupÅ¯ se snadno stane, Å¾e uÅ¾ivatel nezadÃ¡ ÄÃ­slo. <code>int("ahoj")</code> vyvolÃ¡ <code>ValueError</code>.</p>
<pre><code class="language-python">def nacti_cislo(vyzva="Zadejte ÄÃ­slo: "):
    while True:
        try:
            return int(input(vyzva))
        except ValueError:
            print("Tohle nenÃ­ celÃ© ÄÃ­slo, zkuste to znovu.")</code></pre>
          <div class="tip">StejnÄ› mÅ¯Å¾eÅ¡ udÄ›lat <code>nacti_float()</code> s <code>float(...)</code>.</div>
          <div class="ok mt-2"><b>Mini-cviÄenÃ­:</b> NapiÅ¡ <code>def nacti_dve_cisla():</code> kterÃ¡ vrÃ¡tÃ­ dvojici <code>(a,b)</code> se stejnÃ½m oÅ¡etÅ™enÃ­m chyb.</div>
        </div>
      </div>
    </div>

    <!-- 8) MalÃ© spojenÃ­ do praxe (bez menu, jen demonstrace) -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f8h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f8">
          8) Mini-ukÃ¡zka: vÃ½bÄ›r operace vracÃ­ funkci (bez smyÄek/menu)
        </button>
      </h2>
      <div id="f8" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def vyber_operaci():
    op = input("Operace (+,-): ")
    if op == "+": return ("SouÄet", soucet)
    if op == "-": return ("RozdÃ­l", rozdil)
    return (None, None)

a = nacti_cislo("PrvnÃ­ ÄÃ­slo: ")
b = nacti_cislo("DruhÃ© ÄÃ­slo: ")
nazev, fn = vyber_operaci()
if fn is None:
    print("NeznÃ¡mÃ¡ operace.")
else:
    print(f"{nazev}: {fn(a,b)}")</code></pre>
          <div class="warn">Tady <b>zÃ¡mÄ›rnÄ›</b> nepouÅ¾Ã­vÃ¡me smyÄky a menu (uÅ¾ je umÃ­te). CÃ­lem je procviÄit <em>funkce</em> a <em>try/except</em>.</div>
        </div>
      </div>
    </div>

  </div>

  <!-- RychlÃ© Ãºkoly k upevnÄ›nÃ­ -->
  <div class="card mt-4">
    <div class="card-body">
      <h5 class="card-title">ğŸ¯ KrÃ¡tkÃ© Ãºkoly (zkontroluj sÃ¡m sebe)</h5>
      <ol class="mb-0">
        <li>VysvÄ›tli rozdÃ­l mezi <b>definicÃ­</b> a <b>volÃ¡nÃ­m</b> na pÅ™Ã­kladu <span class="mono">def f(): ...</span> a <span class="mono">f()</span>.</li>
        <li>NapiÅ¡ <span class="mono">def mocnina(a, b)</span>, kterÃ¡ <b>vracÃ­</b> <span class="mono">a ** b</span>. Otestuj, Å¾e vÃ½sledek mÅ¯Å¾eÅ¡ uloÅ¾it do promÄ›nnÃ©.</li>
        <li>PÅ™idej vÃ½chozÃ­ argument <span class="mono">b=2</span> (poÄÃ­tÃ¡ se druhÃ¡ mocnina, kdyÅ¾ <span class="mono">b</span> neuvedu).</li>
        <li>NapiÅ¡ <span class="mono">nacti_float()</span> s <span class="mono">try/except ValueError</span>.</li>
        <li>VysvÄ›tli, co je <span class="mono">None</span> a kdy ho funkce vracÃ­.</li>
      </ol>
    </div>
  </div>

  <!-- ModÃ¡ly (vysvÄ›tlivky) -->
  <div class="modal fade" id="modalFuncAsValue" tabindex="-1" aria-labelledby="modalFuncAsValueLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
      <div class="modal-header"><h5 id="modalFuncAsValueLabel" class="modal-title">Funkce jako hodnota (dispatcher po lopatÄ›)</h5>
        <button class="btn-close" data-bs-dismiss="modal" aria-label="ZavÅ™Ã­t"></button></div>
      <div class="modal-body">
        <p>JmÃ©no funkce bez zÃ¡vorek je <em>kontakt</em>. MÅ¯Å¾u ho uloÅ¾it (napÅ™. do promÄ›nnÃ© nebo n-tice) a <em>zavolat pozdÄ›ji</em>.
           DÃ­ky tomu si napÅ™. podle volby uÅ¾ivatele vyberu <b>kterou funkci</b> pouÅ¾Ã­t, aniÅ¾ bych psal spoustu opakujÃ­cÃ­ho se kÃ³du.</p>
      </div>
    </div></div>
  </div>
</section>
